<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Transcription Normalizer - TalkSync</title>
    <link rel="stylesheet" href="/dash/style.css">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <aside class="sidebar">
      <div class="sidebar-header">
        <h1 class="sidebar-logo">TalkSync</h1>
        <p class="sidebar-subtitle">Normalizer</p>
      </div>
      <nav class="sidebar-nav">
        <a href="/dash" class="nav-item">
          <svg class="nav-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
            <rect x="3" y="3" width="6" height="6" rx="1" stroke="currentColor" stroke-width="1.5"/>
            <rect x="3" y="11" width="6" height="6" rx="1" stroke="currentColor" stroke-width="1.5"/>
            <rect x="11" y="3" width="6" height="6" rx="1" stroke="currentColor" stroke-width="1.5"/>
            <rect x="11" y="11" width="6" height="6" rx="1" stroke="currentColor" stroke-width="1.5"/>
          </svg>
          <span>–û–±–∑–æ—Ä</span>
        </a>
        <a href="/rtmp-relay" class="nav-item">
          <svg class="nav-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M10 4V16M10 16L6 12M10 16L14 12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span>RTMP Relay</span>
        </a>
        <a href="/transcription-normalizer" class="nav-item active">
          <svg class="nav-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M4 6H16M4 10H16M4 14H10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
          <span>Normalizer</span>
        </a>
        <a href="/transcription-translator" class="nav-item">
          <svg class="nav-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M3 5H11M9 3V5M5.5 5C5.5 9 7 13 10 15M6 8L8 10M3 15L5 13" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M13 9L17 15M17 9L13 15" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span>Translator</span>
        </a>
        <a href="/translation-speaker" class="nav-item">
          <svg class="nav-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M6 7L11 4V16L6 13H4C3.44772 13 3 12.5523 3 12V8C3 7.44772 3.44772 7 4 7H6Z" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
            <path d="M14 7C15.1046 8.10457 15.1046 9.89543 14 11" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            <path d="M16 5C17.6569 6.65685 17.6569 11.3431 16 13" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
          <span>Speaker</span>
        </a>
        <a href="/whisperx-relay" class="nav-item">
          <svg class="nav-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M10 2C10 2 8 4 8 7C8 10 10 12 10 12M10 2C10 2 12 4 12 7C12 10 10 12 10 12M10 2V12M10 12V18" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <circle cx="10" cy="18" r="1" fill="currentColor"/>
          </svg>
          <span>WhisperX Relay</span>
        </a>
      </nav>
      <div class="sidebar-footer">
        <a href="/" class="nav-item">
          <svg class="nav-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M3 10H17M17 10L13 6M17 10L13 14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span>–°–ª—É—à–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥</span>
        </a>
      </div>
    </aside>
    <main class="main-content">
      <header class="page-header">
        <div class="header-left">
          <h1 class="page-title">Transcription Normalizer</h1>
          <p class="page-description">–°–µ—Ä–≤–µ—Ä–Ω–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–π –∫–∞–∑–∞—Ö—Å–∫–æ–≥–æ —è–∑—ã–∫–∞</p>
        </div>
        <div class="header-right">
          <button class="btn btn-ghost btn-sm" onclick="app.loadNormalizers()">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
              <path d="M14 8C14 11.3137 11.3137 14 8 14C4.68629 14 2 11.3137 2 8C2 4.68629 4.68629 2 8 2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              <path d="M14 4L8 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
            –û–±–Ω–æ–≤–∏—Ç—å
          </button>
          <button class="btn btn-primary" id="createNormalizerBtnHeader">–°–æ–∑–¥–∞—Ç—å</button>
        </div>
      </header>
      <section class="card">
        <div class="card-header">
          <h2 class="card-title">–ê–∫—Ç–∏–≤–Ω—ã–µ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ç–æ—Ä—ã</h2>
        </div>
        <div class="card-content">
          <div id="normalizersList">
            <div class="empty-state-small">
              <svg width="48" height="48" viewBox="0 0 48 48" fill="none">
                <circle cx="24" cy="24" r="18" stroke="currentColor" stroke-width="2" opacity="0.3"/>
                <path d="M24 16V24L30 28" stroke="currentColor" stroke-width="2" stroke-linecap="round" opacity="0.3"/>
              </svg>
              <p>–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–≤</p>
            </div>
          </div>
        </div>
      </section>
      <section class="card">
        <div class="card-header">
          <h2 class="card-title">–°–æ–∑–¥–∞—Ç—å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ç–æ—Ä</h2>
        </div>
        <div class="card-content">
          <form class="relay-form" onsubmit="return false;">
            <div class="form-grid">
              <div class="form-group">
                <label for="relaySelect">–†–µ—Ç—Ä–∞–Ω—Å–ª—è—Ç–æ—Ä</label>
                <select id="relaySelect">
                  <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ—Ç—Ä–∞–Ω—Å–ª—è—Ç–æ—Ä...</option>
                </select>
              </div>
              <div class="form-group">
                <label for="batchSizeInput">–†–∞–∑–º–µ—Ä –±–∞—Ç—á–∞</label>
                <input type="number" id="batchSizeInput" value="10" min="1" max="20" />
              </div>
              <div class="form-group">
                <label for="intervalInput">–ò–Ω—Ç–µ—Ä–≤–∞–ª (—Å–µ–∫)</label>
                <input type="number" id="intervalInput" value="30" min="10" max="300" />
              </div>
              <div class="form-group">
                <label for="autoNormalizeCheck">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</label>
                <div>
                  <input type="checkbox" id="autoNormalizeCheck" checked style="min-width:auto;width:auto" />
                </div>
              </div>
              <div class="form-group form-group-full">
                <label for="promptInput">–ü—Ä–æ–º–ø—Ç –¥–ª—è ChatGPT</label>
                <textarea id="promptInput" rows="4">–¢—ã —ç–∫—Å–ø–µ—Ä—Ç –ø–æ –∫–∞–∑–∞—Ö—Å–∫–æ–º—É —è–∑—ã–∫—É. –ò—Å–ø—Ä–∞–≤—å –æ—à–∏–±–∫–∏ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ –∫–∞–∑–∞—Ö—Å–∫–æ–π —Ä–µ—á–∏. –í–µ—Ä–Ω–∏ —Ç–æ–ª—å–∫–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç —Å –∑–Ω–∞–∫–∞–º–∏ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è.</textarea>
              </div>
            </div>
            <div class="form-actions">
              <button type="button" class="btn btn-primary" id="createNormalizerBtn">–°–æ–∑–¥–∞—Ç—å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ç–æ—Ä</button>
            </div>
          </form>
        </div>
      </section>
      <div class="stats-grid" id="stats" style="display:none">
        <div class="stat-card">
          <div class="stat-header">
            <span class="stat-label">–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–π</span>
          </div>
          <div class="stat-value" id="transcriptionCount">0</div>
        </div>
        <div class="stat-card">
          <div class="stat-header">
            <span class="stat-label">–ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–æ</span>
          </div>
          <div class="stat-value" id="normalizedCount">0</div>
        </div>
        <div class="stat-card">
          <div class="stat-header">
            <span class="stat-label">–û—à–∏–±–æ–∫</span>
          </div>
          <div class="stat-value" id="errorCount">0</div>
        </div>
        <div class="stat-card">
          <div class="stat-header">
            <span class="stat-label">–¢–æ–∫–µ–Ω–æ–≤</span>
          </div>
          <div class="stat-value" id="tokensUsed">0</div>
        </div>
        <div class="stat-card">
          <div class="stat-header">
            <span class="stat-label">–°—Ç–∞—Ç—É—Å</span>
          </div>
          <div class="stat-value" id="connectionStatus">-</div>
        </div>
      </div>
      <div class="dashboard-grid">
        <section class="card">
          <div class="card-header">
            <h2 class="card-title">üìù –ò—Å—Ö–æ–¥–Ω—ã–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏</h2>
          </div>
          <div class="card-content">
            <div id="transcriptionList">
              <div class="empty-state-small">
                <svg width="48" height="48" viewBox="0 0 48 48" fill="none">
                  <circle cx="24" cy="24" r="18" stroke="currentColor" stroke-width="2" opacity="0.3"/>
                  <path d="M24 16V24L30 28" stroke="currentColor" stroke-width="2" stroke-linecap="round" opacity="0.3"/>
                </svg>
                <p>–ù–µ—Ç</p>
              </div>
            </div>
          </div>
        </section>
        <section class="card">
          <div class="card-header">
            <h2 class="card-title">‚ú® –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ</h2>
          </div>
          <div class="card-content">
            <div id="normalizedList">
              <div class="empty-state-small">
                <svg width="48" height="48" viewBox="0 0 48 48" fill="none">
                  <circle cx="24" cy="24" r="18" stroke="currentColor" stroke-width="2" opacity="0.3"/>
                  <path d="M24 16V24L30 28" stroke="currentColor" stroke-width="2" stroke-linecap="round" opacity="0.3"/>
                </svg>
                <p>–ù–µ—Ç</p>
              </div>
            </div>
          </div>
        </section>
      </div>
      <section class="card" id="logsSection" style="display:none">
        <div class="card-header">
          <h2 class="card-title">üìã –õ–æ–≥–∏</h2>
        </div>
        <div class="card-content">
          <div id="logsList">
            <div class="empty-state-small">
              <svg width="48" height="48" viewBox="0 0 48 48" fill="none">
                <circle cx="24" cy="24" r="18" stroke="currentColor" stroke-width="2" opacity="0.3"/>
                <path d="M24 16V24L30 28" stroke="currentColor" stroke-width="2" stroke-linecap="round" opacity="0.3"/>
              </svg>
              <p>–ù–µ—Ç</p>
            </div>
          </div>
        </div>
      </section>
    </main>
    <div id="toastContainer" class="toast-container"></div>
    <script src="script.js"></script>
  </body>
</html>
